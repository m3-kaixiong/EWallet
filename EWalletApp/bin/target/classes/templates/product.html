<!DOCTYPE html>
<html lang="en">
	<head>
		<!-- Required meta tags -->
		<meta charset="utf-8"/>
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>

    	<!-- Bootstrap CSS -->
    	<link rel="stylesheet" href="../css/bootstrap.min.css"/>
    	<link rel="stylesheet" href="../css/layout.css"/>
	</head>
	
	<body>
		<div class="container col-12 col-md-6 col-lg-4 d-flex flex-column" id="body-container">
			<div class="row justify-content-center mt-3" th:fragment="header">
				<img src="../images/mpm_logo.png" alt="MPM Logo"/>
			</div>
			
			<div class="row justify-content-center text-center">
				<div class="col-10 my-3">
					<img th:src="'../' +${product.imgSrc}" src="../images/products/product1_sqr.jpg" class="img-fluid img-thumbnail mx-auto d-block" alt="Product Image"/>
				</div>
			    <div class="col-12">
			      <h5 th:text="${product.name}">Product Name</h5>
			    </div>
			    <div class="col-12">
			      <h6 th:text="'$'+${#numbers.formatDecimal(product.price,1,2)}">$20</h6>
			    </div>
			    <div class="col-10 mt-2 mb-2">
					<p th:text="${product.description}">
						Product description.
					</p>
				</div>
			</div>
			<div class="row mb-5 justify-content-center">
			    <div>
			      <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#confirmPurchaseDialog">Buy Now</button>
			    </div>
			</div>
		</div>
	    
	    <!-- Modal -->
		<div class="modal fade" id="confirmPurchaseDialog" tabindex="-1" role="dialog" aria-labelledby="confirmPurchaseDialogLabel" aria-hidden="true">
			<div class="modal-dialog" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" id="confirmPurchaseDialogLabel">Confirm Purchase</h5>
						<button type="button" class="close" data-dismiss="modal"
							aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
					</div>
					<div class="modal-body">
					<div class="container">
					    <div class="row justify-content-center">
					    	<div class="col-10 col-md-5">
					      		<img th:src="'../' +${product.imgSrc}" src="../images/products/product1_sqr.jpg" class="img-fluid img-thumbnail mx-auto d-block" alt="Product Image"/>
					    	</div>
					    	<div class="col-10 col-md-7 justify-content-center">
					    		<div class="col-md-12 d-md-none text-center mt-3">
						    		<h5 th:text="${product.name}">Product Name</h5>
						    		<h4 th:text="'$'+${#numbers.formatDecimal(product.price,1,2)}">$20</h4>
					    		</div>
					    		<div class="col-12 d-none d-md-block">
						    		<h5 th:text="${product.name}">Product Name</h5>
						    		<h4 th:text="'$'+${#numbers.formatDecimal(product.price,1,2)}">$20</h4>
					    		</div>
					    	</div>
					    </div>
					</div>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-secondary"
							data-dismiss="modal">Cancel</button>
						<form method="POST" th:action="@{/txn}" action="">
							<input id="productId" name="productId" type="hidden" value="0" th:value="${product.id}"/>
							<button type="submit" class="btn btn-primary">Buy Now</button>
						</form>
					</div>
				</div>
			</div>
		</div>
		
		<!-- jQuery first, then Popper.js, then Bootstrap JS -->
	    <script src="../js/jquery-3.2.1.min.js"></script>
	    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
	    <script src="../js/bootstrap.min.js"></script>
	</body>
</html>